{"version":3,"sources":["webpack:///./src/components/Game.vue?649a","webpack:///src/components/Game.vue","webpack:///./src/components/Game.vue?bf2b","webpack:///./src/components/Game.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","account","friendShip","playableCount","attrs","disabled","buttonDisable","on","click","$event","handlePickupDisplay","button","one","count","msg","mult","_e","data-row-count","_l","item","index","key","name","data-space","data-width","type","min","placeholder","model","value","callback","$$v","rentCount","expression","chargePoint","staticRenderFns","Gamevue_type_script_lang_js_","data","beforePick","pickStart","cost","multiPickButton","pickPool","cardPool","created","buttonMsg","methods","val","pickCard","increase","console","log","max","arrIndex","i","length","Math","floor","random","push","computed","totalPoint","multCount","oneCount","concat","mounted","components_Gamevue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0b2ee4.24c98ff5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"game el-customize\"},[_c('h2',[_vm._v(\"紅利點數抽獎\")]),_c('p',[_vm._v(\"----------------------------------------\")]),_c('br'),_c('div',{staticClass:\"game_panel\"},[_c('ul',{staticClass:\"game_info\"},[_c('li',[_vm._v(\"紅利點數: \"+_vm._s(_vm.account.friendShip)+\" 可抽次數: \"+_vm._s(_vm.account.playableCount))])]),(_vm.beforePick)?_c('div',{staticClass:\"display\"},[_c('el-button',{staticClass:\"pickup\",attrs:{\"disabled\":_vm.buttonDisable},on:{\"click\":function($event){return _vm.handlePickupDisplay(_vm.button.one.count)}}},[_vm._v(_vm._s(_vm.button.one.msg))]),(_vm.multiPickButton)?_c('el-button',{staticClass:\"pickup\",on:{\"click\":function($event){return _vm.handlePickupDisplay(_vm.button.mult.count)}}},[_vm._v(_vm._s(_vm.button.mult.msg))]):_vm._e()],1):_vm._e(),(_vm.pickStart)?_c('div',{staticClass:\"pickupBlock\"},[_c('div',{staticClass:\"display\",attrs:{\"data-row-count\":\"5\"}},_vm._l((_vm.pickPool),function(item,index){return _c('div',{key:index,staticClass:\"data_row card_obj\"},[_c('span',{staticClass:\"card\"},[_c('p',[_vm._v(_vm._s(item.name))])])])}),0),_c('div',{staticClass:\"btn_outer\"},[_c('el-button',{staticClass:\"pickup\",on:{\"click\":function($event){return _vm.handlePickupDisplay(0)}}},[_vm._v(\"繼續抽獎\")])],1)]):_vm._e()]),(_vm.buttonDisable)?_c('div',{staticClass:\"row horizontal center\",attrs:{\"data-space\":\"space-vertical\"}},[_c('p',[_vm._v(\"突然有\")]),_c('div',{staticClass:\"input_inner\",attrs:{\"data-width\":\"10rem\",\"data-space\":\"space-horizontal\"}},[_c('el-input-number',{attrs:{\"type\":\"text\",\"min\":1,\"placeholder\":\"人數\"},model:{value:(_vm.rentCount),callback:function ($$v) {_vm.rentCount=$$v},expression:\"rentCount\"}})],1),_c('p',[_vm._v(\"X200點紅利點數\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.chargePoint}},[_vm._v(\"確認\")])],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"game el-customize\">\r\n    <h2>紅利點數抽獎</h2>\r\n    <p>----------------------------------------</p>\r\n    <br>\r\n    <div class=\"game_panel\">\r\n      <ul class=\"game_info\">\r\n        <li>紅利點數: {{ account.friendShip }} 可抽次數: {{ account.playableCount }}</li>\r\n      </ul>\r\n      <div v-if=\"beforePick\" class=\"display\">\r\n        <el-button class=\"pickup\" :disabled=\"buttonDisable\" @click=\"handlePickupDisplay(button.one.count)\">{{ button.one.msg }}</el-button>\r\n        <el-button v-if=\"multiPickButton\" class=\"pickup\" @click=\"handlePickupDisplay(button.mult.count)\">{{ button.mult.msg }}</el-button>\r\n      </div>\r\n      <div v-if=\"pickStart\" class=\"pickupBlock\">\r\n        <div class=\"display\" data-row-count=\"5\">\r\n          <div v-for=\"(item, index) in pickPool\" :key=\"index\" class=\"data_row card_obj\">\r\n            <span class=\"card\">\r\n              <p>{{ item.name }}</p>\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div class=\"btn_outer\">\r\n          <el-button class=\"pickup\" @click=\"handlePickupDisplay(0)\">繼續抽獎</el-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div v-if=\"buttonDisable\" class=\"row horizontal center\" data-space=\"space-vertical\">\r\n      <p>突然有</p>\r\n      <div class=\"input_inner\" data-width=\"10rem\" data-space=\"space-horizontal\">\r\n        <el-input-number v-model=\"rentCount\" type=\"text\" :min=\"1\" placeholder=\"人數\" />\r\n      </div>\r\n      <p>X200點紅利點數</p>\r\n      <el-button type=\"primary\" @click=\"chargePoint\">確認</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Game',\r\n  data() {\r\n    return {\r\n      beforePick: true,\r\n      pickStart: false,\r\n      account: {\r\n        friendShip: 2100,\r\n        playableCount: 0, // 初始值 0\r\n      },\r\n      rentCount: 1,\r\n      cost: 200,\r\n      buttonDisable: false,\r\n      multiPickButton: true,\r\n      button: {\r\n        one: {\r\n          msg: '',\r\n          count: 0\r\n        },\r\n        mult: {\r\n          msg: '',\r\n          count: 0\r\n        }\r\n      },\r\n\r\n      pickPool: [],\r\n      cardPool: [\r\n        { name: '9折歐洲行程' },\r\n        { name: '7折日本自由行' },\r\n        { name: '5折客運車票' },\r\n        { name: '9折歐洲行程' },\r\n        { name: '7折日本自由行' },\r\n        { name: '5折客運車票' },\r\n        { name: '9折歐洲行程' },\r\n        { name: '7折日本自由行' },\r\n        { name: '5折客運車票' },\r\n        { name: '9折歐洲行程' },\r\n        { name: '7折日本自由行' },\r\n        { name: '5折客運車票' }\r\n      ]\r\n    }\r\n  },\r\n\r\n  created() {\r\n    this.buttonMsg\r\n  },\r\n\r\n  methods: {\r\n    handlePickupDisplay(val) {\r\n      this.beforePick = !this.beforePick\r\n      this.pickStart = !this.pickStart\r\n      this.buttonMsg\r\n      this.pickCard(val)\r\n      this.account.friendShip = this.account.friendShip - (this.cost * val)\r\n      if (val == 0) {\r\n        this.pickPool = []\r\n      }\r\n    },\r\n\r\n    chargePoint() {\r\n      // 出借從者一次+25\r\n      const increase = this.rentCount * 200\r\n      this.account.friendShip += increase\r\n      console.log('購買商品: ' + increase + ' 紅利點數' )\r\n      this.buttonMsg\r\n    },\r\n\r\n    pickCard(val) {\r\n      let max = val\r\n      let arrIndex = 0\r\n\r\n      for (let i = 0; i < val; i++) {\r\n        if (val < this.cardPool.length) {\r\n          max = this.cardPool.length\r\n        }\r\n        arrIndex = Math.floor(Math.random() * max)\r\n        this.pickPool.push(this.cardPool[arrIndex])\r\n        console.log(arrIndex)\r\n      }\r\n\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    buttonMsg() {\r\n      let cost = this.cost // cost固定200\r\n      let totalPoint = this.account.friendShip\r\n      let multCount = Math.floor((totalPoint / this.cost))\r\n      let oneCount = 0\r\n\r\n      // 別忘了預設值重置\r\n      this.buttonDisable = false\r\n      this.multiPickButton = true\r\n      this.account.playableCount = multCount\r\n\r\n      // 判斷點數是否足夠抽一次 (用三元式)\r\n      totalPoint >= cost ? oneCount = 1 : oneCount = 0\r\n      this.button.one.count = oneCount\r\n      this.button.one.msg = `${oneCount + ' 回抽選'}`\r\n\r\n      // 假如右側Button不顯示且友情點數不足200則按鈕訊息顯示 \"友情點數不足\"\r\n      if (totalPoint < cost && oneCount == 0) {\r\n        this.button.one.msg = '紅利點數不足'\r\n        this.buttonDisable = true\r\n      }\r\n\r\n      // 判斷點數是否足夠抽十次，如果不夠十次，剩餘次數是否大於兩次?\r\n\r\n      if (multCount >= 10) {\r\n        this.button.mult.msg = `${'10 回抽獎'}`\r\n        this.button.mult.count = 10\r\n      } else if (multCount < 2) {\r\n        this.multiPickButton = false\r\n      } else {\r\n        this.button.mult.count = multCount\r\n        this.button.mult.msg = `${multCount + ' 回抽獎'}`\r\n      }\r\n\r\n      // 小於兩次時右側按鈕不顯示\r\n      if (multCount < 2) {\r\n        this.multiPickButton = false\r\n      }\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Game.vue?vue&type=template&id=34923feb&\"\nimport script from \"./Game.vue?vue&type=script&lang=js&\"\nexport * from \"./Game.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}